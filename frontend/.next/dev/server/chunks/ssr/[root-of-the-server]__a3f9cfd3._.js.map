{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///D:/hackthon%202%20phase%201/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://127.0.0.1:8001';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  if (typeof window !== 'undefined') {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEnD,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B;;IAMA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///D:/hackthon%202%20phase%201/frontend/components/ChatInterface.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport api from '@/lib/api';\r\n\r\nexport default function ChatInterface({ onAction }: { onAction?: () => void }) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [messages, setMessages] = useState<{ role: 'user' | 'agent', text: string }[]>([\r\n        { role: 'agent', text: 'Hello! I am your Todo AI. How can I help you today?' }\r\n    ]);\r\n    const [input, setInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n        }\r\n    }, [messages]);\r\n\r\n    const handleSend = async () => {\r\n        if (!input.trim() || isLoading) return;\r\n\r\n        const userMsg = input;\r\n        setInput('');\r\n        setMessages(prev => [...prev, { role: 'user', text: userMsg }]);\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const res = await api.post('/chat', { message: userMsg });\r\n            setMessages(prev => [...prev, { role: 'agent', text: res.data.reply }]);\r\n            if (res.data.refresh && onAction) {\r\n                onAction();\r\n            }\r\n        } catch (error) {\r\n            setMessages(prev => [...prev, { role: 'agent', text: 'Sorry, I encountered an error. Please try again.' }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed bottom-6 right-6 z-50\">\r\n            {isOpen ? (\r\n                <div className=\"bg-white w-80 h-96 rounded-xl shadow-2xl border flex flex-col overflow-hidden animate-in slide-in-from-bottom-4\">\r\n                    <div className=\"p-4 bg-blue-600 text-white flex justify-between items-center\">\r\n                        <span className=\"font-bold\">Todo AI Agent</span>\r\n                        <button onClick={() => setIsOpen(false)} className=\"hover:opacity-75\">✕</button>\r\n                    </div>\r\n\r\n                    <div ref={scrollRef} className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n                        {messages.map((m, i) => (\r\n                            <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n                                <div className={`max-w-[80%] p-3 rounded-2xl text-sm ${m.role === 'user' ? 'bg-blue-600 text-white rounded-tr-none' : 'bg-white border rounded-tl-none shadow-sm'\r\n                                    }`}>\r\n                                    {m.text}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        {isLoading && (\r\n                            <div className=\"flex justify-start\">\r\n                                <div className=\"bg-white border p-3 rounded-2xl animate-pulse text-xs text-gray-400\">Thinking...</div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"p-3 border-t bg-white flex gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={input}\r\n                            onChange={(e) => setInput(e.target.value)}\r\n                            onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n                            placeholder=\"Ask me anything...\"\r\n                            className=\"flex-1 p-2 text-sm border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                        />\r\n                        <button\r\n                            onClick={handleSend}\r\n                            disabled={isLoading}\r\n                            className=\"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n                        >\r\n                            →\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <button\r\n                    onClick={() => setIsOpen(true)}\r\n                    className=\"w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center hover:scale-105 transition-transform active:scale-95\"\r\n                >\r\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n                    </svg>\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,cAAc,EAAE,QAAQ,EAA6B;IACzE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAA6C;QACjF;YAAE,MAAM;YAAS,MAAM;QAAsD;KAChF;IACD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,YAAY,IAAA,+MAAM,EAAiB;IAEzC,IAAA,kNAAS,EAAC;QACN,IAAI,UAAU,OAAO,EAAE;YACnB,UAAU,OAAO,CAAC,SAAS,GAAG,UAAU,OAAO,CAAC,YAAY;QAChE;IACJ,GAAG;QAAC;KAAS;IAEb,MAAM,aAAa;QACf,IAAI,CAAC,MAAM,IAAI,MAAM,WAAW;QAEhC,MAAM,UAAU;QAChB,SAAS;QACT,YAAY,CAAA,OAAQ;mBAAI;gBAAM;oBAAE,MAAM;oBAAQ,MAAM;gBAAQ;aAAE;QAC9D,aAAa;QAEb,IAAI;YACA,MAAM,MAAM,MAAM,qHAAG,CAAC,IAAI,CAAC,SAAS;gBAAE,SAAS;YAAQ;YACvD,YAAY,CAAA,OAAQ;uBAAI;oBAAM;wBAAE,MAAM;wBAAS,MAAM,IAAI,IAAI,CAAC,KAAK;oBAAC;iBAAE;YACtE,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,UAAU;gBAC9B;YACJ;QACJ,EAAE,OAAO,OAAO;YACZ,YAAY,CAAA,OAAQ;uBAAI;oBAAM;wBAAE,MAAM;wBAAS,MAAM;oBAAmD;iBAAE;QAC9G,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACV,uBACG,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAK,WAAU;sCAAY;;;;;;sCAC5B,8OAAC;4BAAO,SAAS,IAAM,UAAU;4BAAQ,WAAU;sCAAmB;;;;;;;;;;;;8BAG1E,8OAAC;oBAAI,KAAK;oBAAW,WAAU;;wBAC1B,SAAS,GAAG,CAAC,CAAC,GAAG,kBACd,8OAAC;gCAAY,WAAW,CAAC,KAAK,EAAE,EAAE,IAAI,KAAK,SAAS,gBAAgB,iBAAiB;0CACjF,cAAA,8OAAC;oCAAI,WAAW,CAAC,oCAAoC,EAAE,EAAE,IAAI,KAAK,SAAS,2CAA2C,6CAChH;8CACD,EAAE,IAAI;;;;;;+BAHL;;;;;wBAOb,2BACG,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;0CAAsE;;;;;;;;;;;;;;;;;8BAKjG,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BACG,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;4BACvC,aAAY;4BACZ,WAAU;;;;;;sCAEd,8OAAC;4BACG,SAAS;4BACT,UAAU;4BACV,WAAU;sCACb;;;;;;;;;;;;;;;;;iCAMT,8OAAC;YACG,SAAS,IAAM,UAAU;YACzB,WAAU;sBAEV,cAAA,8OAAC;gBAAI,WAAU;gBAAU,MAAK;gBAAO,QAAO;gBAAe,SAAQ;0BAC/D,cAAA,8OAAC;oBAAK,eAAc;oBAAQ,gBAAe;oBAAQ,aAAa;oBAAG,GAAE;;;;;;;;;;;;;;;;;;;;;AAM7F"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///D:/hackthon%202%20phase%201/frontend/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport api from '@/lib/api';\r\nimport { useAuth } from '@/lib/auth.context';\r\nimport { useRouter } from 'next/navigation';\r\nimport ChatInterface from '@/components/ChatInterface';\r\n\r\ninterface Todo {\r\n    id: number;\r\n    title: string;\r\n    status: 'Incomplete' | 'Complete';\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const [todos, setTodos] = useState<Todo[]>([]);\r\n    const [newTodo, setNewTodo] = useState('');\r\n    const { logout, isAuthenticated } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!isAuthenticated) {\r\n            // router.push('/login'); \r\n        }\r\n        fetchTodos();\r\n    }, [isAuthenticated]);\r\n\r\n    const fetchTodos = async () => {\r\n        try {\r\n            const res = await api.get('/todos/');\r\n            setTodos(res.data);\r\n        } catch (error) {\r\n            console.error('Failed to fetch todos', error);\r\n        }\r\n    };\r\n\r\n    const addTodo = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!newTodo.trim()) return;\r\n        try {\r\n            await api.post('/todos/', { title: newTodo });\r\n            setNewTodo('');\r\n            fetchTodos();\r\n        } catch (error) {\r\n            alert('Failed to add todo');\r\n        }\r\n    };\r\n\r\n    const toggleTodo = async (todo: Todo) => {\r\n        try {\r\n            const newStatus = todo.status === 'Incomplete' ? 'Complete' : 'Incomplete';\r\n            await api.patch(`/todos/${todo.id}`, { status: newStatus });\r\n            fetchTodos();\r\n        } catch (error) {\r\n            alert('Failed to update todo');\r\n        }\r\n    };\r\n\r\n    const deleteTodo = async (id: number) => {\r\n        try {\r\n            await api.delete(`/todos/${id}`);\r\n            fetchTodos();\r\n        } catch (error) {\r\n            alert('Failed to delete todo');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <nav className=\"bg-white shadow p-4 flex justify-between items-center\">\r\n                <h1 className=\"text-xl font-bold\">Evolution of Todo</h1>\r\n                <button onClick={logout} className=\"text-red-500 hover:text-red-700\">Logout</button>\r\n            </nav>\r\n\r\n            <main className=\"max-w-2xl mx-auto mt-8 p-4\">\r\n                <form onSubmit={addTodo} className=\"flex gap-2 mb-8\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={newTodo}\r\n                        onChange={(e) => setNewTodo(e.target.value)}\r\n                        placeholder=\"What needs to be done?\"\r\n                        className=\"flex-1 p-3 border rounded shadow-sm\"\r\n                    />\r\n                    <button type=\"submit\" className=\"px-6 py-3 bg-blue-600 text-white rounded shadow hover:bg-blue-700\">\r\n                        Add\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"space-y-4 pb-20\">\r\n                    {todos.map((todo) => (\r\n                        <div key={todo.id} className=\"flex items-center justify-between p-4 bg-white rounded shadow\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={todo.status === 'Complete'}\r\n                                    onChange={() => toggleTodo(todo)}\r\n                                    className=\"w-5 h-5\"\r\n                                />\r\n                                <span className={todo.status === 'Complete' ? 'line-through text-gray-400' : ''}>\r\n                                    {todo.title}\r\n                                </span>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => deleteTodo(todo.id)}\r\n                                className=\"text-red-500 hover:text-red-700 text-sm\"\r\n                            >\r\n                                Delete\r\n                            </button>\r\n                        </div>\r\n                    ))}\r\n                    {todos.length === 0 && <p className=\"text-center text-gray-500\">No tasks yet. Add one!</p>}\r\n                </div>\r\n            </main>\r\n\r\n            <ChatInterface onAction={fetchTodos} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAce,SAAS;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,kIAAO;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,iBAAiB;QAClB,0BAA0B;QAC9B;QACA;IACJ,GAAG;QAAC;KAAgB;IAEpB,MAAM,aAAa;QACf,IAAI;YACA,MAAM,MAAM,MAAM,qHAAG,CAAC,GAAG,CAAC;YAC1B,SAAS,IAAI,IAAI;QACrB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,yBAAyB;QAC3C;IACJ;IAEA,MAAM,UAAU,OAAO;QACnB,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ,IAAI,IAAI;QACrB,IAAI;YACA,MAAM,qHAAG,CAAC,IAAI,CAAC,WAAW;gBAAE,OAAO;YAAQ;YAC3C,WAAW;YACX;QACJ,EAAE,OAAO,OAAO;YACZ,MAAM;QACV;IACJ;IAEA,MAAM,aAAa,OAAO;QACtB,IAAI;YACA,MAAM,YAAY,KAAK,MAAM,KAAK,eAAe,aAAa;YAC9D,MAAM,qHAAG,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE;gBAAE,QAAQ;YAAU;YACzD;QACJ,EAAE,OAAO,OAAO;YACZ,MAAM;QACV;IACJ;IAEA,MAAM,aAAa,OAAO;QACtB,IAAI;YACA,MAAM,qHAAG,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI;YAC/B;QACJ,EAAE,OAAO,OAAO;YACZ,MAAM;QACV;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,8OAAC;wBAAO,SAAS;wBAAQ,WAAU;kCAAkC;;;;;;;;;;;;0BAGzE,8OAAC;gBAAK,WAAU;;kCACZ,8OAAC;wBAAK,UAAU;wBAAS,WAAU;;0CAC/B,8OAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,aAAY;gCACZ,WAAU;;;;;;0CAEd,8OAAC;gCAAO,MAAK;gCAAS,WAAU;0CAAoE;;;;;;;;;;;;kCAKxG,8OAAC;wBAAI,WAAU;;4BACV,MAAM,GAAG,CAAC,CAAC,qBACR,8OAAC;oCAAkB,WAAU;;sDACzB,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDACG,MAAK;oDACL,SAAS,KAAK,MAAM,KAAK;oDACzB,UAAU,IAAM,WAAW;oDAC3B,WAAU;;;;;;8DAEd,8OAAC;oDAAK,WAAW,KAAK,MAAM,KAAK,aAAa,+BAA+B;8DACxE,KAAK,KAAK;;;;;;;;;;;;sDAGnB,8OAAC;4CACG,SAAS,IAAM,WAAW,KAAK,EAAE;4CACjC,WAAU;sDACb;;;;;;;mCAfK,KAAK,EAAE;;;;;4BAoBpB,MAAM,MAAM,KAAK,mBAAK,8OAAC;gCAAE,WAAU;0CAA4B;;;;;;;;;;;;;;;;;;0BAIxE,8OAAC,uIAAa;gBAAC,UAAU;;;;;;;;;;;;AAGrC"}}]
}